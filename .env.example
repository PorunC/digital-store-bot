# =============================================================================
# DIGITAL STORE BOT V2 - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your actual values

# =============================================================================
# CORE BOT CONFIGURATION
# =============================================================================

# Telegram Bot Token (from @BotFather)
# Get your token from https://t.me/botfather
TELEGRAM_BOT_TOKEN=1234567890:ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890

# Bot Domain (for webhooks, without protocol - example: mybot.example.com)
BOT_DOMAIN=yourdomain.com

# Admin Telegram IDs (comma-separated, get your ID from @userinfobot)
ADMIN_IDS=123456789,987654321

# Environment (development, staging, production)
ENVIRONMENT=production

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database Password
POSTGRES_PASSWORD=secure_random_password_here

# Database URL (automatically constructed, don't change unless needed)
DATABASE_URL=postgresql+asyncpg://botuser:${POSTGRES_PASSWORD}@postgres:5432/digital_store_bot

# Redis URL (for caching and sessions)
REDIS_URL=redis://redis:6379/0

# Database Pool Settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# =============================================================================
# PAYMENT GATEWAYS
# =============================================================================

# Telegram Stars (Built-in Telegram payment)
TELEGRAM_STARS_ENABLED=true

# Cryptomus Payment Gateway
CRYPTOMUS_ENABLED=false
CRYPTOMUS_MERCHANT_ID=your_merchant_id_here
CRYPTOMUS_API_KEY=your_api_key_here
CRYPTOMUS_WEBHOOK_SECRET=your_webhook_secret_here

# PayPal (if you want to add PayPal support)
PAYPAL_ENABLED=false
PAYPAL_CLIENT_ID=your_paypal_client_id
PAYPAL_CLIENT_SECRET=your_paypal_client_secret
PAYPAL_WEBHOOK_ID=your_paypal_webhook_id

# =============================================================================
# SHOP CONFIGURATION
# =============================================================================

# Default currency (USD, EUR, RUB, etc.)
DEFAULT_CURRENCY=USD

# Trial system configuration
TRIAL_DURATION_DAYS=3
REFERRAL_TRIAL_EXTENSION_DAYS=2
MAX_TRIALS_PER_USER=1

# Referral system
REFERRAL_ENABLED=true
REFERRAL_LEVEL1_PERCENT=10
REFERRAL_LEVEL2_PERCENT=5
REFERRAL_MIN_PAYOUT=10

# Shop settings
SHOP_NAME=Digital Store Bot
SHOP_DESCRIPTION=Premium digital products store
SHOP_CURRENCY_SYMBOL=$
SHOP_TIMEZONE=UTC

# =============================================================================
# SSL CONFIGURATION (Let's Encrypt)
# =============================================================================

# Email for SSL certificates (required for Let's Encrypt)
LETSENCRYPT_EMAIL=admin@yourdomain.com

# =============================================================================
# LOGGING & MONITORING
# =============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log format (simple, detailed, json)
LOG_FORMAT=detailed

# Log rotation (size in MB)
LOG_MAX_SIZE=10
LOG_BACKUP_COUNT=5

# Sentry DSN for error tracking (optional)
SENTRY_DSN=https://your-sentry-dsn-here

# Prometheus metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# =============================================================================
# SECURITY
# =============================================================================

# Secret key for JWT tokens and session management
SECRET_KEY=your-very-secure-secret-key-minimum-32-characters

# Admin panel credentials (change these!)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=change_this_strong_password

# API rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# Session settings
SESSION_TIMEOUT=3600
SESSION_SECURE=true

# =============================================================================
# NOTIFICATION SETTINGS
# =============================================================================

# Email notifications (optional but recommended)
EMAIL_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@yourdomain.com
SMTP_TLS=true

# SMS notifications (optional, using Twilio)
SMS_ENABLED=false
SMS_PROVIDER=twilio
TWILIO_ACCOUNT_SID=your_twilio_sid
TWILIO_AUTH_TOKEN=your_twilio_token
TWILIO_PHONE_NUMBER=+1234567890

# Push notifications (optional)
PUSH_ENABLED=false
FCM_SERVER_KEY=your_fcm_server_key

# =============================================================================
# WEBHOOK CONFIGURATION
# =============================================================================

# Webhook settings
WEBHOOK_PATH=/webhook
WEBHOOK_SECRET=webhook_secret_key_here
WEBHOOK_TIMEOUT=30

# Payment webhook paths
CRYPTOMUS_WEBHOOK_PATH=/api/webhook/cryptomus
PAYPAL_WEBHOOK_PATH=/api/webhook/paypal

# =============================================================================
# PERFORMANCE & SCALING
# =============================================================================

# Worker processes
WORKER_PROCESSES=2

# Connection limits
MAX_CONNECTIONS=1000
MAX_CONCURRENT_REQUESTS=100

# Cache settings
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# Background tasks
BACKGROUND_TASKS_ENABLED=true
TASK_QUEUE_SIZE=1000

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================

# Analytics (optional)
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX
YANDEX_METRICA_ID=12345678

# Support system integration (optional)
ZENDESK_ENABLED=false
ZENDESK_DOMAIN=your-domain.zendesk.com
ZENDESK_EMAIL=support@yourdomain.com
ZENDESK_TOKEN=your_zendesk_token

# CRM integration (optional)
CRM_ENABLED=false
CRM_API_URL=https://api.your-crm.com
CRM_API_KEY=your_crm_api_key

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Backup settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=/backups

# S3 backup (optional)
S3_BACKUP_ENABLED=false
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
S3_BUCKET_NAME=your-backup-bucket
S3_REGION=us-east-1

# =============================================================================
# MONITORING SERVICES
# =============================================================================

# Grafana (for monitoring dashboard)
GRAFANA_PASSWORD=secure_grafana_password

# Health check settings
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Debug mode (only for development!)
DEBUG=false

# Test database (for running tests)
TEST_DATABASE_URL=sqlite+aiosqlite:///./test.db

# Development features
DEV_RELOAD=false
DEV_LOG_SQL=false

# =============================================================================
# LOCALIZATION
# =============================================================================

# Default language
DEFAULT_LANGUAGE=en

# Supported languages (comma-separated)
SUPPORTED_LANGUAGES=en,ru,zh,es,de,fr,it,pt,ja,ko

# Translation service (optional)
TRANSLATION_SERVICE_ENABLED=false
GOOGLE_TRANSLATE_API_KEY=your_google_translate_key

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature toggles
REFERRAL_SYSTEM_ENABLED=true
TRIAL_SYSTEM_ENABLED=true
ADMIN_PANEL_ENABLED=true
METRICS_COLLECTION_ENABLED=true
NOTIFICATIONS_ENABLED=true
BACKUP_SYSTEM_ENABLED=true

# A/B Testing
AB_TESTING_ENABLED=false
AB_TESTING_VARIANT=A